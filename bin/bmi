#!/usr/bin/env ruby
#
#  Created on 2011-11-10.
#  Copyright (c) 2011. All rights reserved.

require 'rubygems'
require File.expand_path(File.dirname(__FILE__) + "/../lib/bmi")
require "bmi/cli"

data = Bmi::CLI.execute(STDOUT, ARGV)

#puts data

kilograms = data[:weight_k].to_f
pounds    = data[:weight_p].to_f
meters    = data[:height_m].to_f
inches    = data[:height_i].to_f

if kilograms > 0 

  if meters > 0
    bmi = (kilograms)/(meters * meters)
  end

  if inches >0
    meters = inches * 0.0254
    bmi = (kilograms)/(meters * meters)
  end

end

if pounds > 0

  if meters > 0
    inches = meters * 39.3700787
    bmi = ((pounds)/(inches * inches))*703
  end

  if inches > 0
    bmi = ((pounds)/(inches * inches))*703
  end

end

puts bmi
